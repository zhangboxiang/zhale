<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			#box {
				width: 500px;
				height: 667px;
				position: absolute;
				left: 50%;
				top: 50%;
				margin:-337px 0 0 -200px;
				overflow: hidden;
			}
			.zha {
				width: 100%;
				height: 100%;
				position: absolute;
				left: 0;
				top: 0;
				transform-style: preserve-3d;
			}
		</style>
	</head>
	<body>
		<div id='box'></div>
		<input type="button" value="boom" id="bm"/>
		<script type="text/javascript">
			var arr = ['img/1.jpg', 'img/2.jpg', 'img/3.jpg', 'img/4.jpg'];
			var picture = 0;
			var nmber = 99999;
			function begin(x, y) {
				if (picture == arr.length) picture = 0;
				var L = x;
				var T = y;
				var yy = document.createElement('div');
				yy.style.zIndex = nmber;
				yy.className = 'zha';
				box.appendChild(yy);
				nmber--;
				var xx = yy.children;
				bm.onclick = function(){
					begin(x, y);
					for (var i = 0; i < xx.length; i++) {
						xx[i].style.transition = Math.random() * 1 + .3 + 's all ease'
						xx[i].style.transform = 'perspective(800px) translateX(' + (Math.random() * 300 - 100) + 'px) translateY(' + (Math.random() * 300 - 100) + 'px) translateZ(' + (Math.random() * 300 + 100) + 'px) rotateX(' + (Math.random() * 300 - 100) + 'deg) rotateY(' + (Math.random() * 300 - 100) + 'deg) scale(' + (Math.random() * .5 + 1) + ')';
						xx[i].style.opacity = 0;
				}	
				}
				for (var i=0; i<T; i++) {
					for (m =0; m<L; m++) {
						var oDiv = document.createElement('div');
						var kuan = (box.offsetWidth - 2) / L;
						var gao = (box.offsetHeight - 2) / T;
						oDiv.style.width = kuan + 'px';
						oDiv.style.height = gao + 'px';
						oDiv.style.float = 'left';
						oDiv.style.background = 'url(' + arr[picture] + ')';
						oDiv.style.backgroundPosition = -m * kuan + 'px ' + (-i * gao) + 'px';
						yy.appendChild(oDiv);
					}
				}
				picture++;
			}
			begin(8,8);
		</script>
	</body>

</html>